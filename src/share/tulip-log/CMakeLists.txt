set(CURRENT_PROJECT_DIR_NAME tulip-log)    #need set
message("CURRENT_PROJECT_DIR_NAME=${CURRENT_PROJECT_DIR_NAME}")

project(${CURRENT_PROJECT_DIR_NAME})


set(CURRENT_TAR_FILE ${CMAKE_SOURCE_DIR}/share/${CURRENT_PROJECT_DIR_NAME}/tulip-log-1.0.tar.gz)  #need set
message("CURRENT_TAR_FILE=${CURRENT_TAR_FILE}")

set(CURRENT_AFTER_UNTAR_DIR_PATH ${CMAKE_BINARY_DIR}/share/${CURRENT_PROJECT_DIR_NAME}/tulip-log-1.0)  #need set
message("CURRENT_AFTER_UNTAR_DIR_PATH =${CURRENT_AFTER_UNTAR_DIR_PATH}")

set(CURRENT_BUILD_DIR ${CMAKE_BINARY_DIR}/share/${CURRENT_PROJECT_DIR_NAME}/build-dir)   #need set
message("CURRENT_BUILD_DIR=${CURRENT_BUILD_DIR}")

execute_process( COMMAND rm -rf  ${CURRENT_AFTER_UNTAR_DIR_PATH} )
execute_process( COMMAND rm -rf  ${CURRENT_BUILD_DIR} )
execute_process( COMMAND tar zxf ${CURRENT_TAR_FILE}  WORKING_DIRECTORY ${CMAKE_BINARY_DIR}/share/${CURRENT_PROJECT_DIR_NAME})

execute_process( COMMAND mkdir ${CURRENT_BUILD_DIR})
execute_process( COMMAND cmake -DCMAKE_INSTALL_PREFIX=${${TOP_PROJECT_NAME_UPPER}_DEPEND_PREFIX_DIR}
        ${CURRENT_AFTER_UNTAR_DIR_PATH}/src WORKING_DIRECTORY ${CURRENT_BUILD_DIR})

execute_process( COMMAND make -j4 WORKING_DIRECTORY ${CURRENT_BUILD_DIR} )
execute_process( COMMAND make install WORKING_DIRECTORY ${CURRENT_BUILD_DIR})
